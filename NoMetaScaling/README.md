### No More Meta Scaling

The mod removes means to infinitely gain Power, money, MaxHp, Hp etc. during the combat. 

Primary aim of the mod is to make a subset of optimal but very tedious plays impossible.
Secondary aim is do this by effecting the original vanilla experience as little as possible.

The plays in question in order of importance:
1. Indefinite healing/Power once the fight is stabilized. Certain card combinations or even singular cards (Call On Friends) enable this. This usually allows some weaker decks to slog though mid Act 2 or early Act 3.
1. Using Hp/Power as aggressive setup resource. If healing is indefinite once fight is stable, it doesn't matter how much non-lethal damage was taken.
1. Disable non-infinite but still tedious stall for copying, namely The Reclusive Sage. Other sources of copying or echoing I consider to be ok. Example, decked LiP copying decked Sweet Potato would result in 27 hp healed at the end of the combat.
1. Technical auto-win by drafting general card discovery (BB, Trace On) early on and gaining unlimited money and MaxHp.

Hence, not all reasons to stall fight were removed and some of them were deliberately left in. But hopefully, this mod should eliminate majority of the situations where stalling for 30+ would technically make sense. Maybe it could even become a standard for "serious and competitive" win streaking.

### Ruleset
The mod applies sweeping ban to specific actions generating corresponding meta-resources. The ban is card-centric and propagating from the most problematic of cards - the cards added in combat.

```
Banned Card: a card which cancels actions providing meta resources which originate from it.
  -I.e., a banned Lucky Break wouldn't give money but would still give Amulet.

When a card performs actions providing meta resources it 
becomes banned unless it's a Teammate being summoned.
  -This is to prevent infinite Exile bounces 
   or Copy sources without Exile or safety clauses.
  -Remi bites are exempt. Blossoming Fantasy Seal is NOT.
  -Dubious Tea Party is exempt. Maybe it's technically possible to use it
   for indefinite healing but it's very difficult to do so (could be possible vs Sanae).

Card generated by another Card is considered banned.

  -Status Effects added by cards (i.e. Abilities) are considered as a Card for the rule above.
    -Meaning copies by Fake Moon would always be banned as Fake Moon is always banned itself.
  -Status Effects added by cards has the same ban state as the card adding it.
    -SEs which provide meta resources are split into different stacks according to their legality.
      -In vanilla, that's only Immortal Flame and Sweet Sweet Potato.

  -Optionally, cards generated by decked cards for the first time in combat are exempt.
    -I.e., Sweet Potato generated by Grimoire Study would provide hp.
     But if the same Grimoire Study was bounced from exile and recast the generated cards would be illegal.
    -If the real Grimoire Study was copied or double played the exemption would not be valid
     as it only applies to real/decked card generation sources.
    -For generation sources which do not exile themselves, like Trace On,
     only first set of generated cards can provide resources while the following ones do not.
    -False Moon is an exception.
     
  -Cards generated by natural Echo effect are exempt.
    -Cards which gain Echo obey Copy rules.

  -Copies are considered generated cards and thus banned
   unless BanLevel option is `RealCopiesAllowed` (default).
     -With the option, Copies are legal unless copy target and/or copy source is banned.
     -I.e., copies Lucky Break from the deck copied by LiP which is also from the deck
      would provide money.
     -Cards performing the copying are their first use.
     -Cards played twice are essentially card copies which are played immediately thus they abide Copy rules.
       -Exception: cards played by Doppelganger are always banned.

  -Marisa's Mushroom Specialist heal token is an exception if the card generating is legal.
```

#### Other changes
The mod removes P, money and point drops after certain number of enemies have been summoned.`For Rin it's 21, 9 for Kokoro and 3 for Clownpiece`

Gensokyo Chronicle proc time have been limited to 7 per combat.

#### Mod compatibility

Since ban is made to be generic the mod will very likely work on modded cards as well, provided they follow at least somewhat sane conventions. 
There's an API in the works for modders to add inclusions/exceptions to bannable entities.
It's defined in [`NoMetaScalinAPI`](https://github.com/Neoshrimp/LBoL_Doremy/blob/master/NoMetaScaling/Core/API/NoMetaScalinAPI.cs) and meant to be used as a conditional dependency [similar to Watermark](https://github.com/Neoshrimp/LBoL_Doremy/blob/master/NoMetaScaling/APIusageAsConditionalDependency.txt).



*Change log*

------
`1.2.2` Fix issue with Positive News giving P only once per fight. Add optional config toggle to increase number of Clownpiece summons which will drop resources.

`1.2.1` Update for LBoL 1.7.0. Fix some generated misfortunes not providing meta resources.

`1.2.0` Update for LBoL 1.6.1 beta.

`1.1.9` Fix Meiling teammate not providing hp in certain circumstances.

`1.1.8` Fix cards copied by False Moons providing resources in certain cases.

`1.1.7` Fix Spirits not providing meta resources in rare cases.

`1.1.6` Exempt Dubious Tea Party.

`1.1.5` Add a small safeguard.

`1.1.3` Add exceptions to certain Misfortunes.

`1.1.1` Add False Moon exception.

`1.1.0` Add optional ban exemption to cards generated by decked cards for the first time in combat. On by default.

`1.0.2` Fix summons dropping loot (if they shouldn't) when the summoner is killed first. Limit Reimu orb healing.

`1.0.0` Make after use ban way more selective, hard ban Echo Form, adjust ban rules for auto-play.

`0.9.2` Update for LBoL 1.6.0 beta. **Not compatible with previous versions.** Prevent All-Points Bulletin from scaling indefinitely.

`0.9.0` Exempt Remi bites, add persistent banning toggle to the API.

`0.8.1` Add Mushroom Specialist exception. Thanks again, *cyaneko*.

`0.8.0` Major ban rules overhaul. Thanks, *cyaneko*.

`0.5.1` Minor fix for nasty bug.

`0.5.0` Initial release.